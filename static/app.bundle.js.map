{"version":3,"sources":["webpack:///./src/App.jsx","webpack:///./src/IssueList.jsx","webpack:///./src/IssueAdd.jsx","webpack:///./src/IssueFilter.jsx","webpack:///./src/IssueEdit.jsx"],"names":["contentNode","document","getElementById","NoMatch","RoutedApp","render","module","hot","accept","IssueRow","issue","props","_id","substr","status","owner","created","toDateString","effort","completionDate","title","Component","IssueTable","issueRows","issues","map","IssueList","state","createIssue","bind","setFilter","query","router","push","pathname","location","loadData","prevProps","oldQuery","newQuery","fetch","search","then","response","ok","json","console","log","data","_metadata","total_count","records","forEach","Date","setState","res","alert","error","message","catch","err","newIssue","method","headers","body","JSON","stringify","updatedIssue","newIssues","concat","propTypes","PropTypes","object","isRequired","IssueAdd","handleSubmit","e","preventDefault","form","forms","issueAdd","value","IssueFilter","clearFilter","setFilterOpen","setFilterAssigned","Separator","IssueEdit","params","id"],"mappings":"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","file":"app.bundle.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Router, Route,Redirect, hashHistory, withRouter} from 'react-router';\r\n\r\nimport IssueList from './IssueList.jsx';\r\nimport IssueEdit from './IssueEdit.jsx';\r\n\r\nvar contentNode = document.getElementById('contents');\r\nconst NoMatch = () => <p>Page Not Found</p>;\r\n\r\nconst RoutedApp = () => (\r\n    <Router history={hashHistory}>\r\n        <Redirect from=\"/\" to=\"/issues\"/>\r\n        <Route path=\"/issues\" component={withRouter(IssueList)}/>\r\n        <Route path=\"/issues/:id\" component={IssueEdit}/>\r\n        <Route path=\"*\" component={NoMatch}/>\r\n    </Router>\r\n);\r\n\r\nReactDOM.render(<RoutedApp />, contentNode); // Render the component inside the content Node\r\n\r\nif(module.hot){\r\n    module.hot.accept();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/App.jsx","import React from 'react';\r\nimport 'whatwg-fetch';\r\nimport { Link } from 'react-router';\r\n\r\nimport IssueAdd from './IssueAdd.jsx';\r\nimport IssueFilter from './IssueFilter.jsx';\r\n\r\n\r\nclass IssueRow extends React.Component{\r\n    render(){\r\n        const issue = this.props.issue;\r\n        return(\r\n            <tr>\r\n                <td><Link to={`/issues/${issue._id}`}>\r\n                    {issue._id.substr(-4)}\r\n                </Link></td>\r\n                <td>{issue.status}</td>\r\n                <td>{issue.owner}</td>\r\n                <td>{issue.created.toDateString()}</td>\r\n                <td>{issue.effort}</td>\r\n                <td>{issue.completionDate ? issue.completionDate.toDateString() : ''}</td>\r\n                <td>{issue.title}</td>\r\n            </tr>\r\n        )\r\n    }\r\n}\r\n\r\nclass IssueTable extends React.Component {\r\n    render(){\r\n        const issueRows = this.props.issues.map(issue => <IssueRow key={issue._id} issue={issue} />)\r\n        return (\r\n            <table className='bordered-table'>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Id</th>\r\n                        <th>Status</th>\r\n                        <th>Owner</th>\r\n                        <th>Created</th>\r\n                        <th>Effort</th>\r\n                        <th>Completion Date</th>\r\n                        <th>Title</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>{issueRows}</tbody>\r\n            </table>\r\n        )\r\n    }\r\n}\r\n\r\nexport default class IssueList extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {issues: []};\r\n        this.createIssue = this.createIssue.bind(this);\r\n        this.setFilter = this.setFilter.bind(this);\r\n    }\r\n\r\n    setFilter(query){\r\n        this.props.router.push({pathname: this.props.location.pathname, query});\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.loadData();\r\n    }\r\n    \r\n    componentDidUpdate(prevProps){\r\n        const oldQuery = prevProps.location.query;\r\n        const newQuery = this.location.query;\r\n        if(oldQuery.status === newQuery.status){\r\n            return;\r\n        }\r\n        this.loadData();\r\n    }\r\n\r\n    loadData(){\r\n        fetch(`/api/issues${this.props.location.search}`).then(response => {\r\n            if(response.ok){\r\n                response.json().then(data => {\r\n                    console.log(\"Total count of records:\", data._metadata.total_count);\r\n                    data.records.forEach(issue => {\r\n                        issue.created = new Date(issue.created);\r\n                        if(issue.completionDate){\r\n                            issue.completionDate = new Date(issue.completionDate);\r\n                        }\r\n                    });\r\n                    this.setState({issues: data.records});\r\n                })\r\n            }\r\n            else{\r\n                res.json().then(error => {\r\n                    alert(\"Failed to fetch issues:\" + error.message);\r\n                })\r\n            }\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    createIssue(newIssue) {\r\n        fetch('/api/issues', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify(newIssue),\r\n        }).then(response => {\r\n            if(response.ok){\r\n                response.json().then(updatedIssue => {\r\n                    updatedIssue.created = new Date(updatedIssue.created);\r\n                    if(updatedIssue.completionDate)\r\n                       updatedIssue.completionDate = new Date(updatedIssue.completionDate);\r\n                    const newIssues = this.state.issues.concat(updatedIssue);\r\n                    this.setState({issues: newIssues});\r\n                })}\r\n            else{\r\n                response.json().then(error => {\r\n                    alert(\"Failed to add issue: \" + error.message)\r\n                });\r\n            }\r\n            }).catch(err => {\r\n             alert(\"Error in sending data to server: \" + err.message);\r\n         });\r\n    }\r\n\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <h1>Issue Tracker</h1>\r\n                <IssueFilter setFilter={this.setFilter} />\r\n                <hr/>\r\n                <IssueTable issues={this.state.issues}/>\r\n                <hr/>\r\n                <IssueAdd createIssue={this.createIssue}/>\r\n                <hr />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nIssueList.propTypes = {\r\n    location: React.PropTypes.object.isRequired,\r\n    router: React.PropTypes.object,\r\n};\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/IssueList.jsx","import React from 'react';\r\n\r\nexport default class IssueAdd extends React.Component {\r\n    constructor(){\r\n        super();\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleSubmit(e){\r\n        e.preventDefault();\r\n        var form = document.forms.issueAdd;\r\n        this.props.createIssue({\r\n            owner: form.owner.value,\r\n            title: form.title.value,\r\n            status: 'New',\r\n            created: new Date()\r\n        });\r\n        //clear the form for the next input\r\n        form.owner.value = \"\"; form.title.value = \"\";\r\n    }\r\n\r\n    render(){ \r\n        return (\r\n            <div>\r\n                <form name=\"issueAdd\" onSubmit={this.handleSubmit}>\r\n                    <input type=\"text\" name=\"owner\" placeholder=\"owner\" />\r\n                    <input type=\"text\" name=\"title\" placeholder=\"title\"/>\r\n                    <button>Add</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/IssueAdd.jsx","import React from 'react';\r\nimport { Link } from 'react-router';\r\n\r\nexport default class IssueFilter extends React.Component {\r\n    constructor(){\r\n        super();\r\n        this.clearFilter = this.clearFilter.bind(this);\r\n        this.setFilterOpen = this.setFilterOpen.bind(this);\r\n        this.setFilterAssigned = this.setFilterAssigned.bind(this);\r\n    }\r\n\r\n    setFilterOpen(e){\r\n        e.preventDefault();\r\n        this.props.setFilter({status: 'Open'});\r\n    }\r\n    setFilterAssigned(e){\r\n        e.preventDefault();\r\n        this.props.setFilter({status: 'Assigned'});\r\n    }\r\n    clearFilter(e){\r\n        e.preventDefault();\r\n        this.props.setFilter({});\r\n    }\r\n    render(){\r\n        const Separator = () => <span> | </span>;\r\n        return (\r\n            <div>\r\n                <a href=\"#\" onClick={this.clearFilter}>All Issues</a>\r\n                <Separator/>\r\n                <a href=\"#\" onClick={this.setFilterOpen}>\r\n                Open Issues </a>\r\n                <Separator/>\r\n                <a href=\"#\" onClick={this.setFilterAssigned}>Assigned Issues</a>\r\n            </div>\r\n        )\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/IssueFilter.jsx","import React from 'react';\r\nimport { Link } from 'react-router';\r\n\r\nexport default class IssueEdit extends React.Component\r\n{\r\n    render(){\r\n        return (\r\n            <div>\r\n                <p>This is a placeholder for editing issue {this.props.params.id}</p>\r\n                <Link to=\"/issues\">Back to issue list</Link>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nIssueEdit.propTypes = {\r\n    params: React.PropTypes.object.isRequired,\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/IssueEdit.jsx"],"sourceRoot":""}